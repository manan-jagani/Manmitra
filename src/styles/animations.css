/* ===========================
   Background animations — improved
   =========================== */

/* --------------------
   Palette variables
   -------------------- */
   :root{
    --loafer: #f4f6ea;
    --beryl:  #d7dead;
    --pine:   #c3c984;
    --sage:   #99ac87;
    --chrome: #e7edcf;
    --headline:#33513f;
    --copy:   #556050;
  
    /* animation timings (easy to tweak) */
    --blob-float-duration: 12s;
    --blob-drift-duration: 18s;
    --blob-slow-duration: 20s;
    --dot-duration: 6.5s;
    --shimmer-duration: 14s;
    --nav-duration: 9s;
  }
  
  /* --------------------
     Keyframes (smooth easing)
     -------------------- */
  @keyframes blobFloat {
    0%   { transform: translate3d(0,0,0) rotate(0deg) scale(1); opacity: 1; }
    50%  { transform: translate3d(0,-18px,0) rotate(6deg) scale(1.02); opacity: 0.96; }
    100% { transform: translate3d(0,0,0) rotate(0deg) scale(1); opacity: 1; }
  }
  
  @keyframes driftX {
    0%   { transform: translate3d(-6vw,0,0); opacity: 0.95; }
    50%  { transform: translate3d(6vw,-6px,0); opacity: 1; }
    100% { transform: translate3d(-6vw,0,0); opacity: 0.95; }
  }
  
  @keyframes floatTiny {
    0%   { transform: translate3d(0,0,0) scale(1); opacity: 0.88; }
    50%  { transform: translate3d(0,-10px,0) scale(1.04); opacity: 1; }
    100% { transform: translate3d(0,0,0) scale(1); opacity: 0.88; }
  }
  
  @keyframes slowShimmer {
    0%  { transform: translateX(-25%); filter: brightness(1); }
    50% { transform: translateX(25%); filter: brightness(1.03); }
    100%{ transform: translateX(-25%); filter: brightness(1); }
  }
  
  @keyframes gradientNav {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* --------------------
     Base container (responsive)
     -------------------- */
  .bg-animated {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: clamp(2.5rem, 6.5vh, 4rem);
    width: clamp(560px, 80vw, 1100px);
    height: clamp(260px, 40vh, 520px);
    pointer-events: none;
    z-index: 0;
    overflow: visible;
    contain: paint; /* helps some browsers with rendering */
  }
  
  /* --------------------
     Blob core styles
     -------------------- */
  .bg-blob {
    position: absolute;
    filter: blur(28px);
    opacity: 0.26;
    will-change: transform, opacity;
    transform-origin: center;
    transition: opacity 400ms linear;
  }
  
  /* responsive placement + tuned sizes */
  .bg-blob.blob-1 {
    width: clamp(360px, 52vw, 520px);
    height: clamp(180px, 24vh, 260px);
    left: calc(50% - 18vw);
    top: -6vh;
    animation: blobFloat var(--blob-float-duration) cubic-bezier(.22,.9,.35,1) infinite;
    animation-delay: 0s;
  }
  
  .bg-blob.blob-2 {
    width: clamp(300px, 44vw, 420px);
    height: clamp(150px, 22vh, 220px);
    left: calc(50% + 16vw);
    top: 0;
    opacity: 0.20;
    filter: blur(36px) saturate(1.03);
    animation: driftX var(--blob-drift-duration) ease-in-out infinite;
    animation-delay: 1.4s;
  }
  
  .bg-blob.blob-3 {
    width: clamp(260px, 36vw, 360px);
    height: clamp(140px, 20vh, 200px);
    left: calc(50% - 42vw);
    top: 2vh;
    opacity: 0.18;
    filter: blur(32px);
    animation: blobFloat var(--blob-slow-duration) cubic-bezier(.22,.9,.35,1) infinite;
    animation-delay: 2.6s;
  }
  
  /* SVG fill helpers (gradients defined in markup) */
  .blob-fill-1 { fill: url(#bgGrad1); }
  .blob-fill-2 { fill: url(#bgGrad2); }
  .blob-fill-3 { fill: url(#bgGrad3); }
  
  /* --------------------
     Floating dots (decorative) — responsive sizes
     -------------------- */
  .floating-dot {
    position: absolute;
    width: clamp(6px, 1.1vw, 12px);
    height: clamp(6px, 1.1vw, 12px);
    border-radius: 999px;
    background: rgba(153,172,135,0.92); /* softened sage */
    opacity: 0.9;
    will-change: transform, opacity;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,0.04));
    animation: floatTiny var(--dot-duration) ease-in-out infinite;
  }
  
  /* each dot has its own timing + subtle color variation */
  .floating-dot.dot-a { left: 10%;  top: 18%; animation-delay: 0s; transform-origin: center; }
  .floating-dot.dot-b { left: 85%;  top: 28%; animation-delay: 0.6s; animation-duration: 7.2s; background: rgba(195,201,132,0.92); }
  .floating-dot.dot-c { left: 72%;  top: 68%; animation-delay: 1.2s; animation-duration: 6.8s; background: rgba(215,222,173,0.9); }
  .floating-dot.dot-d { left: 22%;  top: 72%; animation-delay: 0.9s; animation-duration: 7.8s; background: rgba(231,237,207,0.95); }
  
  /* --------------------
     subtle shimmer / highlight overlay for depth
     -------------------- */
  .hero-shimmer {
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.045) 50%, rgba(255,255,255,0) 100%);
    mix-blend-mode: overlay;
    transform: translateX(-30%);
    animation: slowShimmer var(--shimmer-duration) ease-in-out infinite;
    opacity: 0.42;
    will-change: transform, opacity;
  }
  
  /* --------------------
     soft radial highlight layer for organic texture
     -------------------- */
  .bg-radial {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: clamp(0.6rem, 4vh, 2.5rem);
    width: clamp(300px, 48vw, 760px);
    height: clamp(120px, 20vh, 260px);
    border-radius: 50%;
    background: radial-gradient(ellipse at center, rgba(153,172,135,0.10) 0%, rgba(215,222,173,0.05) 40%, transparent 70%);
    pointer-events: none;
    z-index: 0;
    filter: blur(18px);
    opacity: 0.9;
    will-change: opacity, transform;
  }
  
  /* --------------------
     nav animated gradient (reuse palette vars)
     -------------------- */
  .nav-gradient {
    background-image: linear-gradient(90deg, var(--sage) 0%, var(--beryl) 45%, var(--chrome) 70%, var(--loafer) 100%);
    background-size: 200% 200%;
    animation: gradientNav var(--nav-duration) ease-in-out infinite;
    opacity: 1;
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
  }
  
  /* --------------------
     accessibility & control:
     - .animations-disabled can be added to <body> to stop background motion
     - prefers-reduced-motion is respected below
     -------------------- */
  .animations-disabled .bg-blob,
  .animations-disabled .floating-dot,
  .animations-disabled .hero-shimmer,
  .animations-disabled .nav-gradient {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }
  
  /* Respect user preference for reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .bg-blob, .floating-dot, .hero-shimmer, .nav-gradient {
      animation: none !important;
      transition: none !important;
      transform: none !important;
    }
  }
  
  /* --------------------
     small responsive tweaks
     -------------------- */
  @media (max-width: 640px) {
    .bg-blob.blob-1 { left: 50%; transform: translateX(-40%); top: -2vh; }
    .bg-blob.blob-2 { left: 78%; transform: translateX(-10%); top: 2vh; }
    .bg-blob.blob-3 { left: 12%; transform: translateX(0%); top: 4vh; opacity: 0.14; }
    .bg-animated { top: 3.2rem; width: 110vw; left: 50%; transform: translateX(-50%); }
    .floating-dot { opacity: 0.8; }
  }
  
  /* --------------------
     small performance tip comment:
     - keep # of moving elements < ~6 for best mobile perf
     - use .animations-disabled on body when user toggles off
     -------------------- */
  